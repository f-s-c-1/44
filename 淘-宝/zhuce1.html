<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./css/chuze1.css">
</head>

<body>
    <div class="zhuc_header">用户注册</div>
    <div class="step">
        <li>
            <i class="header_num">1</i>
            <span>设置用户名</span>
        </li>
        <li>
            <i>2</i>
            <span>填写账号信息</span>
        </li>
        <li>
            <i>3</i>
            <span>注册成功</span>
        </li>
    </div>
    <div class="content">
        <li>
            <div class="name1">手机号</div>
            <div class="content_right">
                <div class="co_1">
                    <select name="" id="">
                        <option>中国大陆&nbsp;&nbsp;&nbsp;&nbsp;+86 </option>
                        <option>中国香港&nbsp;&nbsp;&nbsp;&nbsp;+13</option>
                        <option>马来西亚&nbsp;&nbsp;&nbsp;&nbsp;+26 </option>
                        <option>澳大利亚&nbsp;&nbsp;&nbsp;&nbsp;+16</option>
                        <option>新加波&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+23 </option>
                        <option>日本&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+93</option>
                    </select>
                    <input type="text" id="input—shouji" value="">
                </div>
                <div class="tishi">*请输入正确的手机号码</div>
            </div>
        </li>
        <li>
            <div class="name1"> 验证</div>
            <div class="content_right">
                <div class="hdong">请向右滑动
                    <div class="lukuai"></div>
                    <div class="anniu">>></div>
                </div>

            </div>
        </li>
        <li>
            <div class="xiayibu">下一步</div>
        </li>
    </div>
    <div class="yzm">
        <p>手机验证</p>
        <span>校验码已发送到你的手机，15分钟内输入有效，请勿泄漏</sapn>
            <div class="form-item clearfix">
                <div class="form-label">
                    手机号
                </div>
                <span class="hao">17603491801</span>
            </div>
            <div class="form-item">
                <div class="form-label">
                    验证码
                </div>
                <input class="form-text" type="text">
                <button class="btn mianfei">免费获取验证码</button>
            </div>
            <div class="duanren">确认</div>
    </div>


    <div class="contenr1" style="display: none">
        <div class="form-item clearfix">
            <div class="form-label">
                登陆密码
            </div>
            <input type="password" class="mimaipt1 inut_1">
            <i class="look"></i>
            <span class="mima">*密码格式正确</span>

        </div>
        <div class="form-item clearfix">
            <div class="form-label">
                密码确认
            </div>
            <input type="password" class="mimaipt2  inut_1">
            <i class="look"></i>
            <span class="mima1">密码不一致</span>
        </div>
        <div class="form-item clearfix">
            <div class="form-label">
                登录名
            </div>
            <input type="text" class="mimaipt3  inut_1">
            <span></span>
        </div>
        <div class="form-item clearfix">
            <button class="btn sumbit" style="width: 100px;background: #ff4001;color:white">提交</button>
        </div>
    </div>



    <div class="contenr2" style="display: none">
        注册成功！欢迎登陆淘宝选购商品
    </div>



    <div class="footer">
            <div class="footer_hd">
                <p>
                    <a href="http://page.1688.com/shtml/about/ali_group1.shtml">阿里巴巴集团</a>
                    <b>|</b>
                    <a href="http://www.alibaba.com">阿里巴巴国际站</a>
                    <b>|</b>
                    <a href="http://www.1688.com">阿里巴巴中国站</a>
                    <b>|</b>
                    <a href="http://www.aliexpress.com">全球速卖通</a>
                    <b>|</b>
                    <a href="http://www.taobao.com">淘宝网</a>
                    <b>|</b>
                    <a href="http://www.tmall.com">天猫</a>
                    <b>|</b>
                    <a href="http://ju.taobao.com">聚划算</a>
                    <b>|</b>
                    <a href="http://www.etao.com">一淘</a>
                    <b>|</b>
                    <a href="http://www.alimama.com">阿里妈妈</a>
                    <b>|</b>
                    <a href="https://www.fliggy.com">飞猪</a>
                    <b>|</b>
                    <a href="http://www.xiami.com">虾米</a>
                    <b>|</b>
                    <a href="http://www.aliyun.com">阿里云计算</a>
                    <b>|</b>
                    <a href="http://www.yunos.com">云OS</a>
                    <b>|</b>
                    <a href="http://www.net.cn">万网</a>
                    <b>|</b>
                    <a href="http://www.alipay.com">支付宝</a>
                    <b>|</b>
                    <a href="http://www.laiwang.com/">来往</a>
                </p>
            </div>
            <div class="footer-bd">
                <p>
                    <a href="http://www.taobao.com/about">关于淘宝</a>
                    <a href="http://www.taobao.com/about/partners.php">合作伙伴</a>
                    <a href="http://pro.taobao.com">营销中心</a>
                    <a href="mailto:lianzheng@taobao.com" title="lianzheng@taobao.com" target="_self">廉正举报</a>
                    <a href="http://service.taobao.com/support/main/service_route.htm">联系客服</a>
                    <a href="http://open.taobao.com">开放平台</a>
                    <a href="http://www.taobao.com/about/join.php">诚征英才</a>
                    <a
                        href="https://consumerservice.taobao.com/contact-us?spm=a21bo.50862.1997523009.35.5dcec6f7zikHQ3">联系我们</a>
                    <a href="http://www.taobao.com/sitemap.php">网站地图</a>
                    <a
                        href="http://terms.alicdn.com/legal-agreement/terms/suit_bu1_taobao/suit_bu1_taobao201811121436_80276.html">法律声明</a>
                    <a
                        href="http://terms.alicdn.com/legal-agreement/terms/suit_bu1_taobao/suit_bu1_taobao201703241622_61002.html">隐私权政策</a>
                    <em>© 2019 Taobao.com 版权所有</em>
                    <br>
                </p>
                <p>
                    <span>网络文化经营许可证：浙网文[2016]0132-032号</span>
                    <b>|</b>
                    <span>增值电信业务经营许可证：浙B2-20080224-1</span>
                    <b>|</b>
                    <span>信息网络传播视听节目许可证：1109364号</span>
                </p>
            </div>
            <div class="footer_ft">
                <img src="https://assets.alicdn.com/apps/login/static/css/images/wj.gif" alt="">
            </div>
        </div>
</body>
<script src="./js/jquery.js"></script>
<script src="./js/cookie.js"></script>
<script>

    var index = 0
    var suo = false
    $('.anniu').mousedown(function (ev) {
        var tishi = $('.tishi').text()
        // console.log(tishi)
        if (tishi == '*格式正确') {
            Clinet = ev.clientX - ev.offsetX
            console.log(Clinet)
            $(document).mousemove(function (ev) {
                left = ev.clientX - Clinet
                if (left >= 250) {
                    left = 250
                }
                else if (left < 0) {
                    left = 0
                }
                $('.anniu').css('left', left)
                $('.lukuai').css('width', left)
            })
            $(document).mouseup(function () {
                if (left != 250) {
                    $('.anniu').css('left', 0)
                    $('.lukuai').css('width', 0)
                    $(document).off('mousemove')
                    $(document).off('mouseup')
                } else {
                    $('.anniu').off('mousedown')
                    $(document).off('mousemove')
                    $(document).off('mouseup')
                    $('.anniu').text('ok')
                    $('.lukuai').css('background', 'green')
                    $('.xiayibu').css('background', 'rgb(255, 64, 0)')
                    suo = true
                }
            })
        } else {
            $('.tishi').css('display', 'block').text('*请输入正确的手机号码').css('color', 'red')
        }

    })


    // 手机号是否正确
    $('#input—shouji').blur(function () {
        var zhengz = /^[1][3,4,5,7,8][0-9]{9}$/;
        var cal1 = $('#input—shouji').val()

        if (cal1 == '') {
            $('.tishi').css('display', 'block').text('*请输入正确的手机号码').css('color', 'red')
        } else {
            if (zhengz.test(cal1)) {
                for (var s = 0; s <= getCookie('index'); s++) {
                    if (getCookie('sj' + s) == $('#input—shouji').val()) {
                        
                        alert('手机号已存在')
                        $('.tishi').hide()
                        break
                    } else {
                        $('.tishi').css('display', 'block').text('*格式正确').css('color', 'green')
                    }
                }
            } else if (!(zhengz.test(cal1))) {
                $('.tishi').css('display', 'block').text('*请输入正确的手机号码').css('color', 'red')
            } else {

            }
        }
    })


    $('#input—shouji').focus(function () {
        $('.tishi').css('display', 'none')
    })

    $('.xiayibu').click(function () {
        var xiayibu = $(this).css('background')
        if (suo == true) {
            index++
            $('.step').find('i').eq(index).addClass('header_num')
            $('.yzm').css('display', 'block')
            console.log($('#input—shouji').val())
            $('.hao').html($('#input—shouji').val())
        }

    })


    //  获取手机验证码/确认

    $('.mianfei').click(function () {
        var suiji = parseInt(Math.random(100000) * 999999)
        alert(suiji)
        $('.duanren').click(function () {
            var formText = $('.form-text').val()
            if (suiji == formText) {
                $('.yzm').css('display', 'none')
                $('.content').css('display', 'none')
                $('.contenr1').css('display', 'block')
            }
        })
    })



    //判断密码
    $('.mimaipt1').click(function () {
        $('.mima').css('display', 'none')
    })
    $('.mimaipt2').click(function () {
        $('.mima1').css('display', 'none')
    })

    $('.mimaipt1').blur(function () {
        var zhengze = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/
        if (zhengze.test($('.mimaipt1').val())) {
            $('.mima').css('display', 'block').css('color', 'green').text('*密码格式正确')
        } else {
            $('.mima').css('display', 'block').css('color', 'red').text('*请输入8位数以上的正确密码')
        }
    })
    $('.mimaipt2').blur(function () {
        var mimat1 = $('.mimaipt1').val()
        var dqa = $(this).val()
        console.log(dqa)
        if (dqa == '') {
            $('.mima1').css('display', 'block').css('color', 'red').text('*请输入密码')
        } else if (mimat1 == dqa) {
            $('.mima1').css('display', 'block').css('color', 'green').text('*密码一致')
        } else {
            $('.mima1').css('display', 'block').css('color', 'red').text('*密码不一致')
        }
    })
    var i = 0
    var suo1 = true
    if (i > 20) {
        i = 0
    } else if (getCookie('index')) {
        i = getCookie('index')
    }
    $('.sumbit').click(function () {
        
        var iup1 = $('.mimaipt1').val()
        var iup3 = $('.mimaipt3').val()
        var iupsj = $('#input—shouji').val()
        for (var b = 0; b <= i; b++) {
            console.log(iup3 == getCookie('name' + b))
            if (iup3 == getCookie('name' + b)) {
                
                alert('用户名已存在，请重新输入')
                suo=false
                $('.mimaipt3').val('')
                // window.open('./denglu.html')
                
            }
        }
        if (suo) {
            index++
            $('.step').find('i').eq(index).addClass('header_num')
            $('.contenr1').css('display', 'none')
            $('.contenr2').css('display', 'block')
            console.log(iup3)
            i++
            setCookie('name' + i, iup3, 1)
            setCookie('pass' + i, iup1, 1)
            setCookie('sj' + i, iupsj, 1)
            setCookie('index', i, 1)
            setTimeout(function(){
                window.open('./denglu.html')
            },1500)
        }
        suo=true

    })


    //清除cookie


    for (var j = 0; j <100; j++) {
        // alert(j)
        removeCookie('name' + j)
        removeCookie('pass' + j)
        removeCookie('sj' + j)
        removeCookie('index')
    }


</script>

</html>